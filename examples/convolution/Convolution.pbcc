#ifndef CONVOLUTION_PBCC
#define CONVOLUTION_PBCC

%{

%}

transform Convolution
from A[n], B[m]
to C[n+m-1]
{
  to (C c) from (A a, B b)
  {
    int i, j;
    for (i = 0; i < m + n - 1; i++) {
      c.cell(i) = 0;
    }
    for (i = 0; i < n; i++) {
      for (j = 0; j < m; j++) {
        c.cell(i+j) += a.cell(i) * b.cell(j);
      }
    }
  }
}

#endif // CONVOLUTION_PBCC
